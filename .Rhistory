fln <- readOGR(paste0(main, "GemHe_Flaechennutzung.shp"))
library(rgdal)
library(raster)
library(rgeos)
main <- "C:/Users/mleza/Documents/Jobs/BioMan/Variablen/mein_GIS/"
opp <- "C:/Users/mleza/Documents/Jobs/BioMan/Variablen/mein_GIS/final_GIS/"
newproj <- "+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs"
# make a template with study area
kreise <- readOGR(paste0(main, "Kreisgrenzen_HE.shp"))
kreise <- spTransform(kreise, crs(newproj))
kreise <- kreise[!is.na(kreise$name),]
fln <- readOGR(paste0(main, "GemHe_Flaechennutzung.shp"))
flnclip <- intersect(fln, kreise)
for(i in seq(15)){
flnclip@data[,29+i] <- as.numeric(gsub(",", '.', flnclip@data[,29+i], fixed = T))
}
writeOGR(flnclip, dsn=paste0(opp, "GemHe_Flaechennutzung_mh.shp"), driver="ESRI Shapefile",
layer="GemHe_Flaechennutzung_mh", overwrite=T)
bes <- readOGR(paste0(main, "GemHe_Beschaeftigte.shp"))
besclip <- intersect(bes, kreise)
for(i in seq(6)){
besclip@data[,29+i] <- as.numeric(gsub(",", '.', besclip@data[,29+i], fixed = T))
}
besclip@data[,36:42] <- NULL
writeOGR(besclip, dsn=paste0(opp, "GemHe_Beschaeftigte_mh.shp"), driver="ESRI Shapefile",
layer="GemHe_Beschaeftigte_mh", overwrite=T)
names(besclip)
View(names(besclip))
